var Piece={getChosen:function(){return this.newPiece(document.getElementsByClassName("chosen")[0])},getEmpty:function(){return this.newPiece(document.getElementsByClassName("empty")[0])},getPieces:function(){for(var e=[],t=document.getElementsByClassName("piece"),i=0;i<t.length;i++)e.push(this.newPiece(t[i]));return e},pieceSide:{top:void 0,left:void 0},getPieceSize:function(e){if(void 0!==this.pieceSide[e])return this.pieceSide[e];for(var t=0,i=this.getPieces(),n=0;n<i.length-1;n++)if(t=Math.abs(i[n][e]-i[n+1][e]),t>0)return this.pieceSide[e]=t,this.pieceSide[e];return 0},getPieceHeight:function(){return this.getPieceSize("top")},getPieceWidth:function(){return this.getPieceSize("left")},getPieceOneUp:function(e){var t=.05*this.getPieceHeight(),i=e.left+t,n=e.top-(this.getPieceHeight()-t);return this.newPiece(document.elementFromPoint(i,n))},getPieceOneDown:function(e){var t=.05*this.getPieceHeight(),i=e.left+t,n=e.top+(this.getPieceHeight()-t);return this.newPiece(document.elementFromPoint(i,n))},getPieceOneLeft:function(e){var t=.05*this.getPieceHeight(),i=e.left+t,n=e.top+(this.getPieceHeight()-t);return this.newPiece(document.elementFromPoint(i,n))},getPieceOneRight:function(e){var t=.05*this.getPieceHeight(),i=e.left+t,n=e.top+(this.getPieceHeight()-t);return this.newPiece(document.elementFromPoint(i,n))},newPiece:function(e){var t,i={};return i.dom=e,t=e.getBoundingClientRect(),i.top=t.top,i.left=t.left,i.right=t.right,i.bottom=t.bottom,i}},Helpers={fail:function(e){console.error("%c FAIL "+e,"color: red"),alert("FAIL "+e)},pass:function(e){console.log("%c PASS "+e,"color: blue")},expect:function(e,t){t?this.pass(e):this.fail(e)}},RunTests=function(e){console.clear();for(var t in e)e[t](t.toString())},TestPiece={test_getChosen:function(e){var t=Piece.getChosen();Helpers.expect(e,void 0!==t)},test_getEmpty:function(e){var t=Piece.getEmpty();Helpers.expect(e,void 0!==t)},test_newPiece:function(e){var t=document.getElementsByClassName("chosen")[0],i=Piece.newPiece(t);Helpers.expect(e+" has top",void 0!==i.top),Helpers.expect(e+" has left",void 0!==i.left),Helpers.expect(e+" has right",void 0!==i.right),Helpers.expect(e+" has bottom",void 0!==i.bottom)},test_getPieceHeight:function(e){var t=Piece.getPieceHeight();Helpers.expect(e+" height is defined",void 0!==t),Helpers.expect(e+" height is greater than 0",t>0)},test_getPieceWidth:function(e){var t=Piece.getPieceWidth();Helpers.expect(e+" width is defined",void 0!==t),Helpers.expect(e+" width is greater than 0",t>0)},test_getPieceOneUp:function(e){var t=Piece.getChosen(),i=Piece.getPieceOneUp(t);Helpers.expect(e+" piece is defined",void 0!==i),Helpers.expect(e+" oneUp should be one piece size up from chosen",t.top-Piece.getPieceHeight()==i.top),Helpers.expect(e+" oneUp should be same column as chosen",t.left==i.left&&t.right==i.right)}};