function Piece(e){var t=function(){return e.getBoundingClientRect()};return{dom:e,top:t().top,left:t().left,right:t().right,bottom:t().bottom,center:{x:(t().right+t().left)/2,y:(t().bottom+t().top)/2}}}var Board=function(){var e=[];return{getPieces:function(){if(e.length)return e;for(var t=document.getElementsByClassName("piece"),o=0;o<t.length;o++)e.push(Piece(t[o]));return e},getChosen:function(){return Piece(document.getElementsByClassName("chosen")[0])},getEmpty:function(){return Piece(document.getElementsByClassName("empty")[0])},pieceSide:{top:void 0,left:void 0},getPieceSize:function(e){if(void 0!==this.pieceSide[e])return this.pieceSide[e];for(var t=0,o=this.getPieces(),n=0;n<o.length-1;n++)if(t=Math.abs(o[n][e]-o[n+1][e]),t>0)return this.pieceSide[e]=t,this.pieceSide[e];return 0},getPieceHeight:function(){return this.getPieceSize("top")},getPieceWidth:function(){return this.getPieceSize("left")},getSideBoundary:function(e,t){for(var o=this.getPieces(),n=o[0][e],r=0;r<o.length;r++)t(n,o[r][e])&&(n=o[r][e]);return n},getTopBoundary:function(){return this.getSideBoundary("top",function(e,t){return e>t})},getBottomBoundary:function(){return this.getSideBoundary("bottom",function(e,t){return e<t})},getLeftBoundary:function(){return this.getSideBoundary("left",function(e,t){return e>t})},getRightBoundary:function(){return this.getSideBoundary("right",function(e,t){return e<t})},getPieceOneUp:function(e){if(!this.exceedsTopBoundary(e)){var t=e.center.x,o=e.center.y-Board.getPieceHeight();return Piece(document.elementFromPoint(t,o))}},getPieceOneDown:function(e){if(!this.exceedsBottomBoundary(e)){var t=e.center.x,o=e.center.y+Board.getPieceHeight();return Piece(document.elementFromPoint(t,o))}},getPieceOneLeft:function(){return Piece(document.elementFromPoint(x,y))},getPieceOneRight:function(){return Piece(document.elementFromPoint(x,y))},exceedsTopBoundary:function(e){return e.top==this.getTopBoundary()},exceedsBottomBoundary:function(e){return e.bottom==this.getBottomBoundary()}}}(),Helpers={fail:function(e){console.error("%c FAIL "+e,"color: red"),alert("FAIL "+e)},pass:function(e){console.log("%c PASS "+e,"color: blue")},expect:function(e,t){t?this.pass(e):this.fail(e)}},RunTests=function(e){console.clear();for(var t in e)e[t](t.toString())},TestPiece={},TestBoard={test_getPieceHeight:function(e){var t=Board.getPieceHeight();Helpers.expect(e+" height is defined",void 0!==t),Helpers.expect(e+" height is greater than 0",t>0)},test_getBoardWidth:function(e){var t=Board.getPieceWidth();Helpers.expect(e+" width is defined",void 0!==t),Helpers.expect(e+" width is greater than 0",t>0)},test_getChosen:function(e){var t=Board.getChosen();Helpers.expect(e,void 0!==t)},test_getEmpty:function(e){var t=Board.getEmpty();Helpers.expect(e,void 0!==t)},test_getTopBoundarygetBottomBoundary:function(e){var t=Board.getTopBoundary(),o=Board.getBottomBoundary();Helpers.expect(e+" top greater than 0",t>0),Helpers.expect(e+" bottom greater than 0",o>0),Helpers.expect(e+" top < bottom",t<o)},test_get_LeftBoundaryget_RightBoundary:function(e){var t=Board.getLeftBoundary(),o=Board.getRightBoundary();Helpers.expect(e+" left greater than 0",t>0),Helpers.expect(e+" right greater than 0",o>0),Helpers.expect(e+" left < right",t<o)},test_getPieceOneUp:function(e){var t=Board.getChosen(),o=Board.getPieceOneUp(t);Board.exceedsTopBoundary(t)?Helpers.expect(e+"piece is undefined if next piece up exceeds TopBoundary",void 0===o):(Helpers.expect(e+" piece is defined",void 0!==o),Helpers.expect(e+" oneUp should be one piece size up from chosen",t.top-Board.getPieceHeight()==o.top),Helpers.expect(e+" oneUp should be same column as chosen",t.left==o.left&&t.right==o.right))},test_getPieceOneDown:function(e){var t=Board.getChosen(),o=Board.getPieceOneDown(t);Board.exceedsBottomBoundary(t)?Helpers.expect(e+"piece is undefined if next piece down exceeds BottomBoundary",void 0===o):(Helpers.expect(e+" piece is defined",void 0!==o),Helpers.expect(e+" oneDown should be one piece size down from chosen",t.bottom+Board.getPieceHeight()==o.bottom),Helpers.expect(e+" oneDown should be same column as chosen",t.left==o.left&&t.right==o.right))}};